<template>  <MainLayout>    <NavBar>      <template #top>        <h5 class="p-3">{{ title }}</h5>      </template>      <template #bottom>        <b-tabs class="header-tab">          <b-tab>            <template #title>              <a class="cursor-pointer" @click="back">                <Fa :icon="['fas', 'caret-left']" />                Back              </a>            </template>          </b-tab>          <b-tab dis title="General" active lazy @click="tabIndex = 0">            <template #title>              <Fa :icon="['fas', 'project-diagram']" />              General            </template>          </b-tab>        </b-tabs>      </template>    </NavBar>    <SubMenu>      <template #submenu>        <Sidebar />      </template>    </SubMenu>    <div v-if="algorithmDetail" class="container-fluid pr-lg-4 pl-lg-4">      <div class="d-flex justify-content-between">        <h3          v-if="algorithmDetail.is_active === '1'"          class="font-weight-bold mt-3"        >          {{ algorithmDetail.name }}          <b-badge v-if="algorithmDetail.is_system_default" variant="primary">            System          </b-badge>        </h3>        <h3 v-else class="text-middle-line">          {{ algorithmDetail.name }}          <b-badge variant="danger" class="ml-2">Deleted</b-badge>        </h3>        <div          v-if="            algorithmDetail.is_active === '1' &&            !algorithmDetail.is_system_default          "          class="d-flex"        >          <h3            v-if="permission('algr_upd')"            class="mt-3 ml-4"            @click="editAlgorithm"          >            <a class="cursor-pointer">              <Fa :icon="['fas', 'cog']" />            </a>          </h3>          <h3            v-if="permission('algr_del')"            class="mt-3 ml-4"            @click="openDeleteModal"          >            <a class="cursor-pointer">              <Fa :icon="['fas', 'trash']" />            </a>          </h3>        </div>      </div>      <div class="bg-light rounded-big p-4 mt-4 mb-4">        <div class="row">          <div class="col-lg-9">            <p class="text-black-50">Algorithm Goal:</p>            <p class="font-weight-bold">{{ algorithmDetail.description }}</p>          </div>          <div class="col-lg-3">            <div class="d-flex align-items-center justify-content-between">              <div>                <p class="text-black-50">Total recommended hours:</p>                <p class="font-weight-bold">coming soon...</p>              </div>              <a                v-b-toggle.algorithm-detail-collapse                class="cursor-pointer text-primary ml-3 mt-2"              >                <Fa                  v-if="rotation === 0"                  :icon="['fas', 'caret-circle-down']"                  size="2x"                  @click="detailCollapse"                />                <Fa                  v-else                  :icon="['fas', 'caret-circle-up']"                  size="2x"                  @click="detailCollapse"                />              </a>            </div>          </div>        </div>        <b-collapse id="algorithm-detail-collapse">          <hr />          <div class="row">            <div class="col-lg-6">              <p class="mb-2">Code: {{ algorithmDetail.code }}</p>              <p>Date: {{ algorithmDetail.date }}</p>            </div>            <div class="col-lg-6">              <p class="mb-2">Number: {{ algorithmDetail.number }}</p>              <p>                Confirm by: {{ algorithmDetail.partner | get_employee_info }}              </p>            </div>          </div>        </b-collapse>      </div>      <AlgorithmInfo @reload="loadAlgorithm" />      <AlgorithmEdit        v-if="permission('algr_upd')"        :algorithmDetail="algorithmDetail"        @reload="loadAlgorithm"      />      <b-modal id="algorithm-delete" title="">        <h4 class="text-center mb-3">Are you sure to delete algorithm?</h4>        <h5 class="text-center">{{ title }}</h5>        <template #modal-footer>          <div class="w-100 d-flex justify-content-center mb-4">            <b-button              variant="secondary"              class="mr-3"              size="lg"              @click="closeDeleteModal"            >              No            </b-button>            <b-button variant="danger" size="lg" @click="deleteAlgorithm">              Yes            </b-button>          </div>        </template>      </b-modal>    </div>  </MainLayout></template><script>import MainLayout from '@/components/layout/MainLayout';import NavBar from '@/components/layout/NavBar';import Sidebar from '@/components/admininstration/Sidebar';import SubMenu from '@/components/layout/SubMenu';import AlgorithmInfo from '@/components/admininstration/algorithm/AlgorithmInfo';import AlgorithmEdit from '@/components/admininstration/algorithm/AlgorithmEdit';import axios from 'axios';export default {  name: 'AlgorithmDetail',  metaInfo() {    return {      title: `${this.title} - Algorithm - Company | TUSS D+`,    };  },  components: {    AlgorithmEdit,    AlgorithmInfo,    MainLayout,    Sidebar,    NavBar,    SubMenu,  },  data() {    return {      title: 'Detail',      algorithmDetail: null,      rotation: 0,    };  },  mounted() {    this.loadAlgorithm();  },  methods: {    loadAlgorithm() {      this.algorithmDetail = null;      const algId = this.$route.params.id;      this.$store.dispatch('getAlgorithmDetail', algId).then((response) => {        this.algorithmDetail = response.data;        this.title = response.data.name;      });    },    detailCollapse() {      if (this.rotation === 0) {        this.rotation = 180;      } else {        this.rotation = 0;      }    },    back() {      window.history.back();    },    editAlgorithm() {      this.$root.$emit('bv::toggle::collapse', 'edit-algorithm');    },    openDeleteModal() {      this.$bvModal.show('algorithm-delete');    },    closeDeleteModal() {      this.$bvModal.hide('algorithm-delete');    },    deleteAlgorithm() {      const url = `/pages/company_builder/algorithm/${this.$route.params.id}/`;      axios.delete(url).then(() => {        this.$router.push({ name: 'company-algorithm' });      });    },  },};</script>