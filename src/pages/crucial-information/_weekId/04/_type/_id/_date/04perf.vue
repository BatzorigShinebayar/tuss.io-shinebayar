<template>  <MainLayout>    <NavBar>      <template #top>        <div class="d-block">          <h4 class="p-3">            {{ data }}          </h4>        </div>      </template>    </NavBar>    <SubMenu>      <template #submenu>        <Searchbar          :search-items="searchItems"          :search-bar="'crucial-information'"        />      </template>    </SubMenu>    <div class="container-fluid">      <CI04Perf />    </div>  </MainLayout></template><script>import MainLayout from '@/components/layout/MainLayout';import NavBar from '@/components/layout/NavBar';import Searchbar from '@/components/layout/SearchBar';import SubMenu from '@/components/layout/SubMenu';import CI04Perf from '@/components/crucial_information/CI04Perf';export default {  name: 'SingleEmployee',  components: { NavBar, SubMenu, Searchbar, CI04Perf, MainLayout },  layout: 'main',  data() {    return {      searchItems: [        {          name: 'This week',          icon: 'calendar',          url: '',          weekNum: 0,        },      ],      data: '',    };  },  head() {    return {      title: 'АЧ - 04 | ТУС Д+',    };  },  watch: {},  beforeMount() {    this.weekNum = this.$store.getters['getThisWeekId'];    const params = '?page_size=4';    this.weeklyCrucialInfoData(params);  },  mounted() {    this.data = this.$route.params.date + "'s crucial information details";  },  methods: {    async weeklyCrucialInfoData(params) {      const urlPath = this.$store.getters.activeCompany + '/' + params;      const response = await this.$store.dispatch(        'getWeeklyCrucialInfo',        urlPath      );      if (response.status === 200) {        const tabMenuItem = response.data.weekly_critical_info.results;        this.searchItems = [];        for (const i in tabMenuItem) {          if (this.weekNum === tabMenuItem[i].plan_week_number) {            this.searchItems.push({              weekNum: tabMenuItem[i].plan_week_number,              name: 'This week',              type: 'employee',              weekId:                tabMenuItem[i].plan_week_year +                '-' +                tabMenuItem[i].plan_week_number,              id: this.$store.getters.user.partner_id,              url: `crucialInfo04`,              icon: 'calendar',            });          } else if (this.weekNum + 1 === tabMenuItem[i].plan_week_number) {            this.searchItems.push({              weekNum: tabMenuItem[i].plan_week_number,              name: 'Next week',              type: 'employee',              weekId:                tabMenuItem[i].plan_week_year +                '-' +                tabMenuItem[i].plan_week_number,              id: this.$store.getters.user.partner_id,              url: `crucialInfo04`,              icon: 'calendar',            });          } else {            const planStartDate = new Date(tabMenuItem[i].plan_start_date);            const planEndDate = new Date(tabMenuItem[i].plan_end_date);            const months = [              'Jan',              'Feb',              'Mar',              'Apr',              'May',              'Jun',              'Jul',              'Aug',              'Sep',              'Oct',              'Nov',              'Dec',            ];            const date1 =              months[planStartDate.getMonth()] + ' ' + planStartDate.getDate();            const date2 =              months[planEndDate.getMonth()] + ' ' + planEndDate.getDate();            this.searchItems.push({              weekNum: tabMenuItem[i].plan_week_number,              name: date1 + ' to ' + date2,              type: 'employee',              weekId:                tabMenuItem[i].plan_week_year +                '-' +                tabMenuItem[i].plan_week_number,              id: this.$store.getters.user.partner_id,              url: `crucialInfo04`,              icon: 'calendar',            });          }        }        this.searchItems.push({          weekNum: 0,          name: 'more',          url: `crucialInfo01`,          icon: 'calendar',        });      }    },  },};</script>