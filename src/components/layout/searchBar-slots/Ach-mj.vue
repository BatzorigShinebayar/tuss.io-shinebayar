<template>  <b-row id="search-body" class="w-100">    <b-col class="overflow-auto h-100" cols="12">      <b-row class="border-bottom mt-1 mt-2">        <div class="ml-3 mb-3 pl-3 d-flex">          <img            :src="$store.getters.user.profile_image"            onError="this.onerror=null;this.src='/tusd_images/profile/human_icon.png';"            class="avatar-xs ml-1 mr-2"          />          <a            :href="              $router.resolve({                name: 'crucialInfo04',                params: {                  weekId,                  type: 'employee',                  id: $store.getters.user.partner_id,                },              }).href            "            ><p class="align-self-center">              {{ name | get_employee_info }}            </p></a          >        </div>      </b-row>      <b-row class="m-3">        <p id="header">          <i class="bx bx-menu align-middle mr-1" />THE COMPANY REPORTS        </p>      </b-row>      <b-row v-if="data" id="company-report">        <b-col class="w-100" cols="12">          <b-col class="mt-1 p-0 d-flex" cols="12">            <b-col cols="10" class="d-flex pl-0">              <b-col cols="1">                <img v-if="data.logo" :src="data.logo" class="avatar-xs" alt />              </b-col>              <p class="hover-menu">                <a                  class="align-self-center col-md-11 textBold"                  :href="                    $router.resolve({                      name: 'crucialInfo04',                      params: {                        weekId,                        type: 'organization',                        id: data.id,                      },                    }).href                  "                >                  {{ data.name }}</a                >              </p>            </b-col>          </b-col>          <b-col cols="12">            <div>              <b-row v-for="dep in data.department" :key="dep.id">                <b-col cols="12">                  <b-row class="d-flex mt-3 mb-1">                    <b-col cols="10" class="d-flex">                      <b-col cols="1">                        <img                          v-if="dep.img"                          :src="dep.img"                          class="avatar-xs"                          alt                        />                      </b-col>                      <a                        class="align-self-center col-md-11"                        :href="                          $router.resolve({                            name: 'crucialInfo04',                            params: {                              weekId,                              type: 'department',                              id: dep.id,                            },                          }).href                        "                      >                        <p class="hover-menu text">                          {{ dep.name }}                        </p></a                      >                    </b-col>                    <b-col cols="2" class="align-self-center">                      <i                        :id="dep.id"                        class="                          arrowIcon                          color-orange                          bx                          bxs-caret-right-circle                          bx-sm                        "                        @click="arrowButton($event)"                      ></i>                    </b-col>                  </b-row>                  <div :id="'department_' + dep.id" style="display: none">                    <b-row                      v-for="member in dep.employees"                      :id="'employee_' + member.partner__id"                      :key="member.partner__id"                      class="ml-3"                    >                      <b-col cols="12" class="mt-2 mb-2 flex-space-between">                        <b-col cols="1">                          <img                            :src="member.partner__picture"                            onError="this.onerror=null;this.src='/tusd_images/profile/human_icon.png';"                            class="avatar-xs"                            alt                          />                        </b-col>                        <b-col cols="11" class="align-self-center">                          <a                            :href="                              $router.resolve({                                name: 'crucialInfo04',                                params: {                                  weekId,                                  type: 'employee',                                  id: member.partner__id,                                },                              }).href                            "                            ><p class="hover-menu text">                              {{ member.partner__id | get_employee_info }}                            </p></a                          >                        </b-col>                      </b-col>                    </b-row>                  </div>                </b-col>              </b-row>            </div>          </b-col>        </b-col>      </b-row>    </b-col>  </b-row></template><script>export default {  name: 'Ach',  data() {    return {      weekId: this.$route.params.weekId,      icon: '',      name: null,      data: null,      employees: null,      organization: null,    };  },  mounted() {    if (this.data === null) {      this.employees = this.$store.getters.company.employees;      const departmentData = this.$store.getters.company.department;      const org = {};      org.id = this.$store.getters.company.id;      org.name = this.$store.getters.company.name;      const activeDep = [];      for (const i in departmentData) {        if (departmentData[i].is_active === '1') {          departmentData[i].employees = [];          for (const j in this.employees) {            if (              this.employees[j].department__id === departmentData[i].id &&              this.employees[j].is_active === '1'            ) {              departmentData[i].employees.push(this.employees[j]);            }          }          activeDep.push(departmentData[i]);        }      }      org.department = activeDep;      this.data = org;    }    this.name = this.$store.getters.user.partner_id;  },  methods: {    arrowButton(event) {      const element = document.getElementsByClassName('arrowIcon');      for (let i = 0; i < element.length; i++) {        element[i].classList.toggle('bxs-caret-down-circle');        element[i].classList.toggle('bxs-caret-right-circle');      }      const depId = document.getElementById('department_' + event.target.id);      if (depId.style.display === 'block') {        depId.style.display = 'none';      } else {        depId.style.display = 'block';      }    },  },};</script>