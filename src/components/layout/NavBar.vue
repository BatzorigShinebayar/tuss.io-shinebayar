<template>  <div id="nav-bar">    <div class="d-flex justify-content-between align-items-center">      <slot name="top" />      <div id="profile-menu">        <b-form-select          v-if="multiCompany"          id="company-select"          v-model="activeCompany"          :options="userCompanies"        >        </b-form-select>        <a class="navbar-menu-item" @click="initFullScreen()">          <Fa :icon="['fas', 'expand']" />        </a>        <a class="navbar-menu-item">          <Fa :icon="['far', 'bell']" />          <b-badge v-if="notification" class="mb-2" variant="primary">            0          </b-badge>        </a>        <b-dropdown id="profile-menu-dropdown" right>          <template #button-content>            <a class="profile-menu-btn">              <img v-if="image" :src="image" alt="" class="avatar-md" />              <span>{{ lastName }}.{{ firstName }}</span>            </a>          </template>          <b-dropdown-item-button class="profile-menu">            <a class="profile-menu-item">              <Fa :icon="['fas', 'cog']" />              <span class="ml-1">User setting</span>            </a>          </b-dropdown-item-button>          <b-dropdown-item-button            v-if="this.$store.getters.user.is_admin"            class="profile-menu"          >            <router-link              class="profile-menu-item"              :to="{                name: 'admin-setting',              }"            >              <Fa :icon="['far', 'cogs']" />              <span class="ml-1">Admin setting</span>            </router-link>          </b-dropdown-item-button>          <b-dropdown-item-button v-if="permission('tusd_sys')">            <b-form-checkbox v-model="checked" name="check-button" switch>              <p>developer</p>            </b-form-checkbox>          </b-dropdown-item-button>          <b-dropdown-divider />          <b-dropdown-item-button class="profile-menu">            <a class="profile-menu-item text-danger" @click="logout()">              <Fa :icon="['fas', 'power-off']" />              <span class="ml-1">Logout</span>            </a>          </b-dropdown-item-button>        </b-dropdown>      </div>    </div>    <slot name="bottom" />  </div></template><script>export default {  name: 'NavBar',  data() {    return {      lastName: null,      firstName: null,      image: null,      email: null,      jobTitle: null,      activeCompany: this.$store.getters.activeCompany,      userCompanies: null,      notification: [],      multiCompany: false,      checked: this.$store.state.is_developer,    };  },  watch: {    async activeCompany() {      this.$store.commit('activeCompany', this.activeCompany);      this.$store.dispatch('company').then(() => {        this.$router.go(0);      });    },    checked(data) {      this.$store.state.is_developer = data;    },  },  mounted() {    this.lastName = this.$store.getters.user.last_name;    this.firstName = this.$store.getters.user.first_name;    this.email = this.$store.getters.user.username;    this.image = this.$store.getters.user.profile_image;    const allCompanies = this.$store.getters.user.companies;    // this.getNotification({ user_email: this.email });    const companyList = [];    for (const current of allCompanies) {      companyList.push({        value: current.organization_id,        text: current.organization,      });    }    if (companyList.length > 1) {      this.multiCompany = true;    }    this.userCompanies = companyList;  },  methods: {    logout() {      this.$store.dispatch('logout').then(() => {        this.$router.push({ name: 'login' });      });    },    initFullScreen() {      document.body.classList.toggle('fullscreen-enable');      if (        !document.fullscreenElement &&        !document.mozFullScreenElement &&        !document.webkitFullscreenElement      ) {        if (document.documentElement.requestFullscreen) {          document.documentElement.requestFullscreen();        } else if (document.documentElement.mozRequestFullScreen) {          document.documentElement.mozRequestFullScreen();        } else if (document.documentElement.webkitRequestFullscreen) {          document.documentElement.webkitRequestFullscreen(            Element.ALLOW_KEYBOARD_INPUT          );        }      } else if (document.cancelFullScreen) {        document.cancelFullScreen();      } else if (document.mozCancelFullScreen) {        document.mozCancelFullScreen();      } else if (document.webkitCancelFullScreen) {        document.webkitCancelFullScreen();      }    },    // async getNotification(email) {    //   await this.$store    //     .dispatch('logification/getNotification', email)    //     .then((response) => {    //       this.notification = response.data.notification;    //     });    // },  },};</script>