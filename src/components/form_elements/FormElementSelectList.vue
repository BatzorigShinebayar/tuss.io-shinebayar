<template>  <el-form-item    :label="currentField.label"    :label-width="currentField.labelWidth + 'px'"  >    <el-select      v-if="update"      v-model="currentField.entry"      placeholder="Select"      :loading="loading"      v-bind="attributesBinding"    >      <el-option        v-for="item in currentField.options"        :key="item.optionLabel"        :value="item.optionValue"        :label="item.optionLabel"        :disabled="currentField.disabled"        @change="currentField.entry = $event"      >      </el-option>    </el-select>  </el-form-item></template><script>import fetchData from '@/plugins/api/fetch-data';import qs from 'qs';export default {  name: 'SelectList',  props: {    currentField: {      type: Object,      default: null,    },  },  data() {    return {      update: true,      value: '',      loading: false,    };  },  computed: {    attributesBinding() {      const attr = {};      attr.disabled = this.currentField.disabled;      attr.clearable = this.currentField.clearable;      attr.multiple = this.currentField.multiple;      attr.filterable = this.currentField.filterable;      attr.remote = this.currentField.remote;      if (attr.remote) {        attr.remoteMethod = this.remoteMethod;      }      return attr;    },  },  watch: {    'currentField.multiple'() {      this.reload();    },  },  mounted() {    if (this.currentField.isFromUrl) {      const dataUrl = this.currentField.dataUrl;      const valueField = this.currentField.valueField;      const labelField = this.currentField.labelField;      const promise = fetchData.fetchOptionsData(        dataUrl,        labelField,        valueField      );      promise.then((data) => {        this.currentField.options = data;      });    }  },  methods: {    reload() {      this.update = false;      this.$nextTick(() => {        this.update = true;      });    },    remoteMethod(query) {      if (query !== '') {        this.loading = true;        const dataUrl = this.currentField.dataUrl;        const valueField = this.currentField.valueField;        const labelField = this.currentField.labelField;        const param = { queryStr: query };        const promise = fetchData.fetchOptionsData(          dataUrl,          labelField,          valueField,          qs.stringify(param)        );        promise.then((data) => {          this.currentField.options = data;          this.loading = false;        });      } else {        this.currentField.options = [];      }    },  },};</script>