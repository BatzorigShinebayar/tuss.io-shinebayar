<template>  <div>    <b-table      striped      id="task-table"      :hover="true"      :fields="tableField"      :items="tasks"    >      <template #cell(duration)="props">        <router-link          :to="{            name: 'crucialInfo04',            params: {              weekId:                props.item.plan_week_year + '-' + props.item.plan_week_number,              type: 'employee',              id: $store.getters.user.partner_id,            },          }"        >          {{ props.item.plan_start_date }} -          {{ props.item.plan_end_date }}        </router-link>      </template>      <template #cell(task_count)="props">        <div>          {{ props.item.task_count.task_count }} /          {{ props.item.task_count.task_stage_count }}        </div>      </template>      <template #cell(task_stage_count)="props">        <b-progress          class="stage-progress"          :max="props.item.task_stage_count.all"          show-value          variant="dark"          style="width: 250px"        >          <b-progress-bar            :value="props.item.task_stage_count.complete"            variant="success"          ></b-progress-bar>          <b-progress-bar            :value="props.item.task_stage_count.on_process"            variant="warning"          ></b-progress-bar>          <b-progress-bar            :value="              props.item.task_stage_count.all -              (props.item.task_stage_count.complete +                props.item.task_stage_count.on_process)            "            variant="danger"          ></b-progress-bar>        </b-progress>      </template>      <template #cell(warning_count)="props">        <p v-if="props.item.warning_count > 0" style="color: red">          {{ props.item.warning_count }}        </p>        <p v-else style="color: green">          {{ props.item.warning_count }}        </p>      </template>      <template #cell(achievement_points)="props">        <p v-if="props.item.achievement_points > 0" style="color: green">          {{ props.item.achievement_points }}        </p>        <p v-else-if="props.item.achievement_points < 0" style="color: red">          {{ props.item.achievement_points }}        </p>        <p v-else>          {{ props.item.achievement_points }}        </p>      </template>    </b-table>  </div></template><script>export default {  name: '01Table',  components: {},  props: {    tasks: {      type: [Array, Object],      default() {        return [];      },    },  },  data() {    return {      searchEmployeeName: '',      tableField: [        {          key: 'plan_week_number',          label: 'Week number',          sortable: true,        },        {          key: 'duration',          label: 'Хамрах хугацаа',          sortable: true,        },        {          key: 'task_count',          label: 'Төлвөлсөн ажил',          sortable: true,        },        {          key: 'task_stage_count',          label: 'Үе шат',        },        {          key: 'conflict_count.conflict_count',          label: 'Илэрсэн зөрчил',        },        {          key: 'warning_count',          label: 'Conflicts and Problems',        },        {          key: 'achievement_points',          label: 'Achievement Points',        },      ],    };  },  methods: {    showTaskDetail(rowData) {      this.$refs.vuetable.toggleDetailRow(rowData.id);      event.target.classList.toggle('active');    },    stageCount(tskId, type = null) {      let count = 0;      for (const stage of this.tasks.task_stage_ids) {        if (type === null) {          if (stage.task === tskId) {            count = count + 1;          }        } else if (stage.task === tskId && stage.state === 'complete') {          count = count + 1;        }      }      return count;    },    getState(tskId) {      const states = [];      for (const stage of this.tasks.task_stage_ids) {        if (stage.task === tskId) {          states.push(stage.state);        }      }      if (states.includes('on_queue')) return 'on_queue';      if (states.includes('on_process')) return 'on_process';      if (states.includes('complete')) return 'complete';      return 'on_queue';    },    searchName() {},  },};</script><style scoped></style>