<template>  <div class="mt-3">    <b-table      :hover="true"      :items="tableData"      :fields="tableField"      :responsive="true"      class="mt-4"    >      <template #cell(name)="data">        <router-link          v-if="data.item.is_active === '1'"          :to="{            name: 'company-algorithm-detail',            params: { id: data.item.id },          }"        >          {{ data.item.name }}          <b-badge v-if="data.item.is_system_default" variant="primary">            System          </b-badge>        </router-link>        <span v-else class="text-middle-line">          {{ data.item.name }}          <b-badge variant="danger" class="ml-1">Deleted</b-badge>        </span>      </template>      <template #cell(actions)="data">        <div class="show-cell" v-if="data.item.is_active === '1'">          <a            v-if="permission('algr_del') && !data.item.is_system_default"            class="cursor-pointer"            @click="deleteAlgorithm(data.item.id)"          >            <h5>              <Fa :icon="['fas', 'trash']" />            </h5>          </a>        </div>      </template>    </b-table>    <b-modal v-if="permission('algr_del')" id="algorithm-delete-table" title="">      <h4 class="text-center mb-3">Are you sure to delete?</h4>      <template #modal-footer>        <div class="w-100 d-flex justify-content-center mb-4">          <b-button            variant="secondary"            class="mr-3"            size="lg"            @click="closeModal"          >            No          </b-button>          <b-button variant="danger" size="lg" @click="deleteAlgorithmConfirm">            Yes          </b-button>        </div>      </template>    </b-modal>  </div></template><script>import axios from 'axios';export default {  name: 'AlgorithmTable',  props: {    tableData: {      type: Array,    },  },  data() {    return {      tableField: [        {          key: 'name',          label: 'Name',        },        {          key: 'stage_group_count',          label: 'Stages',        },        {          key: 'stage_count',          label: 'Sub stage',        },        {          key: 'actions',          label: 'Actions',        },      ],      deleteId: null,    };  },  methods: {    closeModal() {      this.$bvModal.hide('algorithm-delete-table');    },    deleteAlgorithm(algId) {      this.deleteId = algId;      this.$bvModal.show('algorithm-delete-table');    },    deleteAlgorithmConfirm() {      const url = `/pages/company_builder/algorithm/${this.deleteId}/`;      axios.delete(url).then(() => {        this.$bvModal.hide('algorithm-delete-table');        this.$emit('reload', true);      });    },  },};</script>