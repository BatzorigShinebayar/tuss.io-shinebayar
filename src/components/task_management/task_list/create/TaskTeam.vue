<template>  <b-form-group class="mb-4" label="Task team">    <treeselect      v-model="employeeSelected"      :multiple="true"      :value-consists-of="'LEAF_PRIORITY'"      :options="employeeList"      @input="change"    >    </treeselect>  </b-form-group></template><script>import Treeselect from '@riophae/vue-treeselect';export default {  name: 'TaskTeam',  components: {    Treeselect,  },  props: {    formSubmit: Boolean,    defaultValue: {      type: Array,      default() {        return null;      },    },  },  data() {    return {      employeeSelected: null,    };  },  computed: {    employeeList() {      const employeeList = this.$store.getters.company.employees;      const allDepartments = this.$store.getters.company.department;      const activeDepartments = [];      for (const department of allDepartments) {        if (department.is_active === '1') {          const employees = [];          for (const emp of employeeList) {            if (emp.department__id === department.id) {              if (emp.is_active === '1') {                const employeeContext = {                  id: emp.partner__id,                  label: emp.partner__name + ' ' + emp.partner__last_name,                };                employees.push(employeeContext);              }            }          }          const departmentContext = {            id: department.id + 'dep',            label: department.name,            children: employees,          };          activeDepartments.push(departmentContext);        }      }      return activeDepartments;    },  },  watch: {    defaultValue() {      this.loadDefault();    },  },  mounted() {    this.loadDefault();  },  methods: {    loadDefault() {      if (this.defaultValue) {        this.employeeSelected = this.defaultValue;      }    },    change() {      if (this.employeeSelected.length > 0) {        this.$emit('getTaskTeam', this.employeeSelected);      } else {        this.$emit('getTaskTeam', null);      }    },  },};</script>